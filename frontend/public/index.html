<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Complete E-Commerce Website"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="مقبول ماركت لبيع المواد الغذائية قطاعي وجملة" />
        <meta property="og:title" content="مقبول جملة ماركت - Makboul Gomla Market" />
      <meta
        property="og:description"
        content="مقبول ماركت لبيع المواد الغذائية قطاعي وجملة"
      />
      <meta property="og:image" content="https://res.cloudinary.com/dvlnovdyu/image/upload/v1734729557/WhatsApp_Image_2024-12-19_at_1.04.57_AM_1_b5uqni.jpg"/>
      <meta property="og:url" content="http:/localhost:3000/"/>
      <meta name="twitter:title" content="مقبول جملة ماركت - Makboul Gomla Market"  />
      <meta
        name="twitter:description"
        content="مقبول ماركت لبيع المواد الغذائية قطاعي وجملة"
      />
      <meta name="twitter:image" content="https://res.cloudinary.com/dvlnovdyu/image/upload/v1734729557/WhatsApp_Image_2024-12-19_at_1.04.57_AM_1_b5uqni.jpg"/>
      <meta name="twitter:card" content="summary_large_image" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/fontawesome.css"
    integrity="sha384-eHoocPgXsiuZh+Yy6+7DsKAerLXyJmu2Hadh4QYyt+8v86geixVYwFqUvMU8X90l" crossorigin="anonymous" />
    <script src="https://kit.fontawesome.com/13739e44bd.js" crossorigin="anonymous"></script>
    <link href="https://db.onlinewebfonts.com/c/157c6cc36dd65b1b2adc9e7f3329c761?family=Amazon+Ember" rel="stylesheet" type="text/css"/>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/fontawesome.min.css" integrity="sha384-wESLQ85D6gbsF459vf1CiZ2+rr+CsxRY0RpiF1tLlQpDnAgg6rwdsUF1+Ics2bni" crossorigin="anonymous"> -->
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Readex+Pro:wght@160..700&display=swap" rel="stylesheet">
<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />    
<title>مقبول جملة ماركت - Makboul Gomla Market</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
<!--     <div style="visibility: hidden;">Font made from <a href="http://www.onlinewebfonts.com">oNline Web Fonts</a>is licensed by CC BY 3.0</div> -->
    <div id="root" dir="rtl" style="margin: 0px;"></div>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script> -->
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker
        .register('./service-worker.js')
        .then((reg) => console.log('Registered service worker!'))
        .catch((err) => console.log('Failed to register service worker: ', err));
    });
  }
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dynamsoft-barcode-reader-bundle@10.4.2000/dist/dbr.bundle.js"></script>
<div>
  <div className='row'>
    <div className='col-12'>
    <h2>EAN Scanner</h2>
<button id="startScanBtn" onclick="startPlease()">Start Scanning</button>
<div id="status">Loading...</div>
<div id="cameraView"></div>
<div id="result"></div>
        </div>
    </div>
</div>
<script>
      const startPlease = async () => {
        Dynamsoft.License.LicenseManager.initLicense("DLS2eyJoYW5kc2hha2VDb2RlIjoiMTAzNjUzMzI0LVRYbFFjbTlxIiwibWFpblNlcnZlclVSTCI6Imh0dHBzOi8vbWRscy5keW5hbXNvZnRvbmxpbmUuY29tIiwib3JnYW5pemF0aW9uSUQiOiIxMDM2NTMzMjQiLCJzdGFuZGJ5U2VydmVyVVJMIjoiaHR0cHM6Ly9zZGxzLmR5bmFtc29mdG9ubGluZS5jb20iLCJjaGVja0NvZGUiOi05NDg0NDA5Mjd9");
        Dynamsoft.Core.CoreModule.loadWasm(["dbr"]);


        let cvRouter = await Dynamsoft.CVR.CaptureVisionRouter.createInstance();
        let settings = await cvRouter.outputSettings();
        let formatOptionsArray = settings.BarcodeFormatSpecificationOptions;
for (let index = 0; index < formatOptionsArray.length; index++) {
  const options = formatOptionsArray[index];
  options["EnableAddOnCode"] = 1;
}
let barcodeOptionsArray = settings.BarcodeReaderTaskSettingOptions;
for (let index = 0; index < barcodeOptionsArray.length; index++) {
  const options = barcodeOptionsArray[index];
  options["BarcodeFormatIds"] = ["BF_EAN_8","BF_EAN_13","BF_UPC_A","BF_UPC_E"];
}
await cvRouter.initSettings(settings);
let cameraView = await Dynamsoft.DCE.CameraView.createInstance();
let cameraEnhancer = await Dynamsoft.DCE.CameraEnhancer.createInstance(cameraView);
document.querySelector("#cameraView").append(cameraView.getUIElement());
cvRouter.setInput(cameraEnhancer);
cvRouter.addResultReceiver({ onDecodedBarcodesReceived: (result) => {
  displayResults(result);
}});

function displayResults(result){
  if (result.barcodeResultItems.length > 0) {
    let container = document.getElementById("result");
    let item = result.barcodeResultItems[0];
    container.innerText = `${item.formatString}: ${item.text}`;
  }
}
await cameraEnhancer.open();
await cvRouter.startCapturing("ReadBarcodes_Balance");
      }
      
</script>
</body>
</html>
